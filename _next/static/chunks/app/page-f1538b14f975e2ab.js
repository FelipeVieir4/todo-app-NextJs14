(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{6274:function(e,t,s){Promise.resolve().then(s.bind(s,6994))},6994:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return n}});var a=s(7437),r=s(2265),l=e=>{let{id:t,title:s,description:r,mongoId:l,complete:c,deleteTodo:o,updateTodo:n}=e;return(0,a.jsxs)("tr",{className:"bg-white border-b",children:[(0,a.jsx)("th",{scope:"row",className:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap",children:t+1}),(0,a.jsx)("td",{className:"px-6 py-4 ".concat(c?"line-through":""),children:s}),(0,a.jsx)("td",{className:"px-6 py-4 ".concat(c?"line-through":""),children:r}),(0,a.jsx)("td",{className:"px-6 py-4",children:c?"Completed":"Pending"}),(0,a.jsxs)("td",{className:"px-6 py-4 flex gap-1",children:[(0,a.jsx)("button",{className:" py-2 px-4 bg-red-500 text-white",onClick:()=>o(l),children:"Delete"}),!c&&(0,a.jsx)("button",{className:" py-2 px-4 bg-green-500 text-white",onClick:()=>n(l),children:"Done"})]})]})},c=s(8472),o=s(3580);function n(){let[e,t]=(0,r.useState)({title:"",description:""}),[s,n]=(0,r.useState)([]),i=async()=>{n((await c.Z.get("/api")).data.todos)},p=async e=>{try{let t=await c.Z.delete("/api",{params:{mongoId:e}});o.Am.success(t.data.message),i()}catch(e){e.response.data.message?o.Am.error(e.response.data.message):o.Am.error(e)}},d=async e=>{try{let t=await c.Z.put("/api",{},{params:{mongoId:e}});o.Am.success(t.data.message),i()}catch(e){e.response.data?o.Am.error(e.response.data.message):o.Am.error(e)}};(0,r.useEffect)(()=>{i()},[]);let x=s=>{let a=s.target.name,r=s.target.value;t(e=>({...e,[a]:r})),console.log(e)},m=async s=>{s.preventDefault();try{let s=await c.Z.post("/api",e);console.log(s),o.Am.success(s.data.message),t({title:"",description:""}),await i()}catch(e){console.log(e),o.Am.error(e.response.data.message||e.message||"Error")}};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.Ix,{}),(0,a.jsxs)("form",{className:"flex items-start flex-col gap-2 w-[80%] max-w-[600px] mt-24 px-2 mx-auto",children:[(0,a.jsx)("input",{value:e.title,onChange:x,type:"text",name:"title",placeholder:"Enter title",className:"px-3 py-2 border-2 w-full ",required:!0}),(0,a.jsx)("textarea",{value:e.description,onChange:x,name:"description",placeholder:"Enter description",className:"px-3 py-2 border-2 w-full ",required:!0}),(0,a.jsx)("button",{onClick:m,type:"submit",className:"bg-orange-600 py-3 px-11 text-white",children:"Add Todo"})]}),(0,a.jsx)("div",{className:"relative overflow-x-auto mt-24 w-[60%] mx-auto",children:(0,a.jsxs)("table",{className:"w-full text-sm text-left rtl:text-right text-gray-700",children:[(0,a.jsx)("thead",{className:"text-xs text-gray-700 uppercase bg-gray-100",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Id"}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Title"}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Description"}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Status"}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Action"})]})}),(0,a.jsx)("tbody",{children:s.map((e,t)=>(0,a.jsx)(l,{id:t,title:e.title,description:e.description,complete:e.isCompleted,mongoId:e._id,deleteTodo:p,updateTodo:d},t))})]})})]})}s(4025)}},function(e){e.O(0,[97,843,971,23,744],function(){return e(e.s=6274)}),_N_E=e.O()}]);